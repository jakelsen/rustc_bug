{"$message_type":"diagnostic","message":"some variants are not matched explicitly","code":{"code":"non_exhaustive_omitted_patterns","explanation":null},"level":"warning","spans":[{"file_name":"henvm/src/vm.rs","byte_start":1423,"byte_end":1495,"line_start":58,"line_end":58,"column_start":19,"column_end":91,"is_primary":true,"text":[{"text":"            match unsafe { mem::transmute::<u16, Ins>(((ins & 0xffff0000) >> 16) as u16) } {","highlight_start":19,"highlight_end":91}],"label":"patterns `Ins::Cmp8`, `Ins::Cmp16`, `Ins::Cmp32` and 30 more not covered","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"ensure that all variants are matched explicitly by adding the suggested match arms","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"the matched value is of type `Ins` and the `non_exhaustive_omitted_patterns` attribute was found","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"the lint level is defined here","code":null,"level":"note","spans":[{"file_name":"henvm/src/vm.rs","byte_start":1371,"byte_end":1402,"line_start":57,"line_end":57,"column_start":20,"column_end":51,"is_primary":true,"text":[{"text":"            #[warn(non_exhaustive_omitted_patterns)]","highlight_start":20,"highlight_end":51}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: some variants are not matched explicitly\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0mhenvm/src/vm.rs:58:19\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m58\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            match unsafe { mem::transmute::<u16, Ins>(((ins & 0xffff0000) >> 16) as u16) } {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m                  \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33mpatterns `Ins::Cmp8`, `Ins::Cmp16`, `Ins::Cmp32` and 30 more not covered\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: ensure that all variants are matched explicitly by adding the suggested match arms\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: the matched value is of type `Ins` and the `non_exhaustive_omitted_patterns` attribute was found\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;10mnote\u001b[0m\u001b[0m: the lint level is defined here\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0mhenvm/src/vm.rs:57:20\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m57\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            #[warn(non_exhaustive_omitted_patterns)]\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m                   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;10m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"associated function `max` is never used","code":{"code":"dead_code","explanation":null},"level":"warning","spans":[{"file_name":"henvm/src/traits.rs","byte_start":80,"byte_end":81,"line_start":3,"line_end":3,"column_start":11,"column_end":12,"is_primary":false,"text":[{"text":"pub trait N:","highlight_start":11,"highlight_end":12}],"label":"associated function in this trait","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"henvm/src/traits.rs","byte_start":310,"byte_end":313,"line_start":21,"line_end":21,"column_start":8,"column_end":11,"is_primary":true,"text":[{"text":"    fn max() -> u128;","highlight_start":8,"highlight_end":11}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(dead_code)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: associated function `max` is never used\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0mhenvm/src/traits.rs:21:8\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m3\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub trait N:\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m          \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m-\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12massociated function in this trait\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m21\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    fn max() -> u128;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m       \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `#[warn(dead_code)]` on by default\u001b[0m\n\n"}
thread 'rustc' panicked at compiler/rustc_const_eval/src/transform/validate.rs:88:25:
broken MIR in Item(DefId(0:54 ~ henvm[c9cb]::vm::{impl#0}::add)) (after phase change to runtime-optimized) at bb5[0]:
Cannot perform checked arithmetic on type T/#0
stack backtrace:
   0:        0x10a606745 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h41b9dcd84c0d46ef
   1:        0x10a653f0b - core::fmt::write::h4fe2ff48e95394fd
   2:        0x10a5fc6ae - std::io::Write::write_fmt::ha630f35774432590
   3:        0x10a606501 - std::sys_common::backtrace::print::h8d18f6db311db8c1
   4:        0x10a609569 - std::panicking::default_hook::{{closure}}::h2a81b4f370f7ad04
   5:        0x10a6092d6 - std::panicking::default_hook::h3ff7e946bc95e5e8
   6:        0x11abd564f - std[38e54a1d943a7f58]::panicking::update_hook::<alloc[358a2b952a6a0aef]::boxed::Box<rustc_driver_impl[963ac894dc08b358]::install_ice_hook::{closure#0}>>::{closure#0}
   7:        0x10a60a08b - std::panicking::rust_panic_with_hook::h3fef8e986af65813
   8:        0x10a6099c4 - std::panicking::begin_panic_handler::{{closure}}::h8e831b49d5c6f40d
   9:        0x10a606c39 - std::sys_common::backtrace::__rust_end_short_backtrace::hf88150fdc85fc279
  10:        0x10a6096f6 - _rust_begin_unwind
  11:        0x10a66eb65 - core::panicking::panic_fmt::h2f1aeecb125983ad
  12:        0x11ab0ee3c - <rustc_const_eval[c24c7cffe455128a]::transform::validate::CfgChecker>::fail::<alloc[358a2b952a6a0aef]::string::String>
  13:        0x11ab0defc - <rustc_const_eval[c24c7cffe455128a]::transform::validate::Validator as rustc_middle[a60fef8b9e2255ee]::mir::MirPass>::run_pass
  14:        0x11bb6c055 - rustc_mir_transform[566a052616cff93f]::pass_manager::run_passes_inner
  15:        0x11bc907db - rustc_mir_transform[566a052616cff93f]::optimized_mir
  16:        0x11c192651 - rustc_query_impl[dc288a5418598345]::plumbing::__rust_begin_short_backtrace::<rustc_query_impl[dc288a5418598345]::query_impl::optimized_mir::dynamic_query::{closure#2}::{closure#0}, rustc_middle[a60fef8b9e2255ee]::query::erase::Erased<[u8; 8usize]>>
  17:        0x11c1ba3ff - <rustc_query_impl[dc288a5418598345]::query_impl::optimized_mir::dynamic_query::{closure#2} as core[3b7fc5b096dd50df]::ops::function::FnOnce<(rustc_middle[a60fef8b9e2255ee]::ty::context::TyCtxt, rustc_span[b271326af215988e]::def_id::DefId)>>::call_once
  18:        0x11c08d591 - rustc_query_system[31888a53bbf2e1a0]::query::plumbing::try_execute_query::<rustc_query_impl[dc288a5418598345]::DynamicConfig<rustc_query_system[31888a53bbf2e1a0]::query::caches::DefIdCache<rustc_middle[a60fef8b9e2255ee]::query::erase::Erased<[u8; 8usize]>>, false, false, false>, rustc_query_impl[dc288a5418598345]::plumbing::QueryCtxt, true>
  19:        0x11c35ebd4 - rustc_query_impl[dc288a5418598345]::query_impl::optimized_mir::get_query_incr::__rust_end_short_backtrace
  20:        0x11b78cc9b - rustc_middle[a60fef8b9e2255ee]::query::plumbing::query_get_at::<rustc_query_system[31888a53bbf2e1a0]::query::caches::DefIdCache<rustc_middle[a60fef8b9e2255ee]::query::erase::Erased<[u8; 8usize]>>>
  21:        0x11b79364a - <rustc_middle[a60fef8b9e2255ee]::ty::context::TyCtxt>::instance_mir
  22:        0x11bcbcee0 - rustc_monomorphize[ecf1c2621388bae]::collector::collect_items_rec
  23:        0x11bcbd6dd - rustc_monomorphize[ecf1c2621388bae]::collector::collect_items_rec
  24:        0x11bceabfa - std[38e54a1d943a7f58]::panicking::try::<(), core[3b7fc5b096dd50df]::panic::unwind_safe::AssertUnwindSafe<rustc_data_structures[9a1ad76eab678e34]::sync::parallel::enabled::par_for_each_in<rustc_middle[a60fef8b9e2255ee]::mir::mono::MonoItem, alloc[358a2b952a6a0aef]::vec::Vec<rustc_middle[a60fef8b9e2255ee]::mir::mono::MonoItem>, rustc_monomorphize[ecf1c2621388bae]::collector::collect_crate_mono_items::{closure#1}::{closure#0}>::{closure#0}::{closure#1}::{closure#0}>>
  25:        0x11bced949 - <rustc_data_structures[9a1ad76eab678e34]::sync::parallel::ParallelGuard>::run::<(), rustc_data_structures[9a1ad76eab678e34]::sync::parallel::enabled::par_for_each_in<rustc_middle[a60fef8b9e2255ee]::mir::mono::MonoItem, alloc[358a2b952a6a0aef]::vec::Vec<rustc_middle[a60fef8b9e2255ee]::mir::mono::MonoItem>, rustc_monomorphize[ecf1c2621388bae]::collector::collect_crate_mono_items::{closure#1}::{closure#0}>::{closure#0}::{closure#1}::{closure#0}>
  26:        0x11bcd42a4 - <rustc_session[79d3542324d24680]::session::Session>::time::<(), rustc_monomorphize[ecf1c2621388bae]::collector::collect_crate_mono_items::{closure#1}>
  27:        0x11bcbb40f - rustc_monomorphize[ecf1c2621388bae]::collector::collect_crate_mono_items
  28:        0x11bccbe8e - rustc_monomorphize[ecf1c2621388bae]::partitioning::collect_and_partition_mono_items
  29:        0x11c196a59 - rustc_query_impl[dc288a5418598345]::plumbing::__rust_begin_short_backtrace::<rustc_query_impl[dc288a5418598345]::query_impl::collect_and_partition_mono_items::dynamic_query::{closure#2}::{closure#0}, rustc_middle[a60fef8b9e2255ee]::query::erase::Erased<[u8; 24usize]>>
  30:        0x11c2f587d - <rustc_query_impl[dc288a5418598345]::query_impl::collect_and_partition_mono_items::dynamic_query::{closure#2} as core[3b7fc5b096dd50df]::ops::function::FnOnce<(rustc_middle[a60fef8b9e2255ee]::ty::context::TyCtxt, ())>>::call_once
  31:        0x11c09648f - rustc_query_system[31888a53bbf2e1a0]::query::plumbing::try_execute_query::<rustc_query_impl[dc288a5418598345]::DynamicConfig<rustc_query_system[31888a53bbf2e1a0]::query::caches::SingleCache<rustc_middle[a60fef8b9e2255ee]::query::erase::Erased<[u8; 24usize]>>, false, false, false>, rustc_query_impl[dc288a5418598345]::plumbing::QueryCtxt, true>
  32:        0x11c3ab0b6 - rustc_query_impl[dc288a5418598345]::query_impl::collect_and_partition_mono_items::get_query_incr::__rust_end_short_backtrace
  33:        0x11a9d485e - rustc_codegen_ssa[ab49fe5301aadde6]::back::symbol_export::exported_symbols_provider_local
  34:        0x11c193840 - rustc_query_impl[dc288a5418598345]::plumbing::__rust_begin_short_backtrace::<rustc_query_impl[dc288a5418598345]::query_impl::exported_symbols::dynamic_query::{closure#2}::{closure#0}, rustc_middle[a60fef8b9e2255ee]::query::erase::Erased<[u8; 16usize]>>
  35:        0x11c1d9210 - <rustc_query_impl[dc288a5418598345]::query_impl::exported_symbols::dynamic_query::{closure#2} as core[3b7fc5b096dd50df]::ops::function::FnOnce<(rustc_middle[a60fef8b9e2255ee]::ty::context::TyCtxt, rustc_span[b271326af215988e]::def_id::CrateNum)>>::call_once
  36:        0x11c14ecf5 - rustc_query_system[31888a53bbf2e1a0]::query::plumbing::try_execute_query::<rustc_query_impl[dc288a5418598345]::DynamicConfig<rustc_query_system[31888a53bbf2e1a0]::query::caches::VecCache<rustc_span[b271326af215988e]::def_id::CrateNum, rustc_middle[a60fef8b9e2255ee]::query::erase::Erased<[u8; 16usize]>>, false, false, false>, rustc_query_impl[dc288a5418598345]::plumbing::QueryCtxt, true>
  37:        0x11c33e9cb - rustc_query_impl[dc288a5418598345]::query_impl::exported_symbols::get_query_incr::__rust_end_short_backtrace
  38:        0x11b61fd56 - rustc_middle[a60fef8b9e2255ee]::query::plumbing::query_get_at::<rustc_query_system[31888a53bbf2e1a0]::query::caches::VecCache<rustc_span[b271326af215988e]::def_id::CrateNum, rustc_middle[a60fef8b9e2255ee]::query::erase::Erased<[u8; 16usize]>>>
  39:        0x11b626f99 - <rustc_metadata[a1b921b2ac881507]::rmeta::encoder::EncodeContext>::encode_crate_root
  40:        0x11b6317de - rustc_metadata[a1b921b2ac881507]::rmeta::encoder::encode_metadata
  41:        0x11b6b5220 - rustc_metadata[a1b921b2ac881507]::fs::encode_and_write_metadata
  42:        0x11b4bc1fb - rustc_interface[7e3dd31bf169c8b9]::passes::start_codegen
  43:        0x11b4ca89f - <rustc_middle[a60fef8b9e2255ee]::ty::context::GlobalCtxt>::enter::<<rustc_interface[7e3dd31bf169c8b9]::queries::Queries>::codegen_and_build_linker::{closure#0}, core[3b7fc5b096dd50df]::result::Result<rustc_interface[7e3dd31bf169c8b9]::queries::Linker, rustc_span[b271326af215988e]::ErrorGuaranteed>>
  44:        0x11b48c634 - <rustc_interface[7e3dd31bf169c8b9]::queries::Queries>::codegen_and_build_linker
  45:        0x11aba729b - <rustc_interface[7e3dd31bf169c8b9]::interface::Compiler>::enter::<rustc_driver_impl[963ac894dc08b358]::run_compiler::{closure#0}::{closure#1}, core[3b7fc5b096dd50df]::result::Result<core[3b7fc5b096dd50df]::option::Option<rustc_interface[7e3dd31bf169c8b9]::queries::Linker>, rustc_span[b271326af215988e]::ErrorGuaranteed>>
  46:        0x11ab962b2 - rustc_span[b271326af215988e]::set_source_map::<core[3b7fc5b096dd50df]::result::Result<(), rustc_span[b271326af215988e]::ErrorGuaranteed>, rustc_interface[7e3dd31bf169c8b9]::interface::run_compiler<core[3b7fc5b096dd50df]::result::Result<(), rustc_span[b271326af215988e]::ErrorGuaranteed>, rustc_driver_impl[963ac894dc08b358]::run_compiler::{closure#0}>::{closure#0}::{closure#0}>
  47:        0x11ab97b59 - rustc_span[b271326af215988e]::create_session_globals_then::<core[3b7fc5b096dd50df]::result::Result<(), rustc_span[b271326af215988e]::ErrorGuaranteed>, rustc_interface[7e3dd31bf169c8b9]::util::run_in_thread_pool_with_globals<rustc_interface[7e3dd31bf169c8b9]::interface::run_compiler<core[3b7fc5b096dd50df]::result::Result<(), rustc_span[b271326af215988e]::ErrorGuaranteed>, rustc_driver_impl[963ac894dc08b358]::run_compiler::{closure#0}>::{closure#0}, core[3b7fc5b096dd50df]::result::Result<(), rustc_span[b271326af215988e]::ErrorGuaranteed>>::{closure#0}>
  48:        0x11abe7565 - std[38e54a1d943a7f58]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[7e3dd31bf169c8b9]::util::run_in_thread_with_globals<rustc_interface[7e3dd31bf169c8b9]::util::run_in_thread_pool_with_globals<rustc_interface[7e3dd31bf169c8b9]::interface::run_compiler<core[3b7fc5b096dd50df]::result::Result<(), rustc_span[b271326af215988e]::ErrorGuaranteed>, rustc_driver_impl[963ac894dc08b358]::run_compiler::{closure#0}>::{closure#0}, core[3b7fc5b096dd50df]::result::Result<(), rustc_span[b271326af215988e]::ErrorGuaranteed>>::{closure#0}, core[3b7fc5b096dd50df]::result::Result<(), rustc_span[b271326af215988e]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[3b7fc5b096dd50df]::result::Result<(), rustc_span[b271326af215988e]::ErrorGuaranteed>>
  49:        0x11abe8633 - <<std[38e54a1d943a7f58]::thread::Builder>::spawn_unchecked_<rustc_interface[7e3dd31bf169c8b9]::util::run_in_thread_with_globals<rustc_interface[7e3dd31bf169c8b9]::util::run_in_thread_pool_with_globals<rustc_interface[7e3dd31bf169c8b9]::interface::run_compiler<core[3b7fc5b096dd50df]::result::Result<(), rustc_span[b271326af215988e]::ErrorGuaranteed>, rustc_driver_impl[963ac894dc08b358]::run_compiler::{closure#0}>::{closure#0}, core[3b7fc5b096dd50df]::result::Result<(), rustc_span[b271326af215988e]::ErrorGuaranteed>>::{closure#0}, core[3b7fc5b096dd50df]::result::Result<(), rustc_span[b271326af215988e]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[3b7fc5b096dd50df]::result::Result<(), rustc_span[b271326af215988e]::ErrorGuaranteed>>::{closure#1} as core[3b7fc5b096dd50df]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  50:        0x10a6136b9 - std::sys::pal::unix::thread::Thread::new::thread_start::hbdab245be6fda933
  51:     0x7ff80dc144e1 - __pthread_start

error: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md

note: please attach the file at `/Users/jakelsen/Documents/GitHub/rustc_bug/rustc-ice-2024-02-29T01_15_34-75075.txt` to your bug report

note: compiler flags: --crate-type lib -C embed-bitcode=no -C debuginfo=2 -C split-debuginfo=unpacked -C incremental=[REDACTED]

note: some of the compiler flags provided by cargo are hidden

query stack during panic:
#0 [optimized_mir] optimizing MIR for `vm::<impl at henvm/src/vm.rs:22:1: 22:8>::add`
#1 [collect_and_partition_mono_items] collect_and_partition_mono_items
#2 [exported_symbols] collecting exported symbols for crate `0`
end of query stack
{"$message_type":"diagnostic","message":"2 warnings emitted","code":null,"level":"warning","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: 2 warnings emitted\u001b[0m\n\n"}
